name: CI
on:
  push:
    branches: [main]
  pull_request:
  workflow_dispatch:
    # Tillat at man manuelt starter jobber p√• Github
permissions:
  contents: read
env:
  FORCE_COLOR: "1"
jobs:
  lint:
    runs-on: ubuntu-latest
    steps:
          - uses: actions/checkout@v6
          - name: Install uv
            uses: astral-sh/setup-uv@v7
          - name: Set up Python
            uses: actions/setup-python@v6
            with:
              python-version-file: ".python-version"
          - name: Run linting
            uses: j178/prek-action@v1
  audit:
    runs-on: ubuntu-latest
    steps:
          - uses: actions/checkout@v6
          - uses: astral-sh/setup-uv@v7
          - uses: actions/setup-python@v6
            with:
              python-version-file: ".python-version"
          - uses: extractions/setup-just@v3
          - run: just audit
